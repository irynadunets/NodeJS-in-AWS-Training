{"ast":null,"code":"import _slicedToArray from\"/home/iryna/Desktop/nodejs-aws-fe/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from\"react-router-dom\";import API_PATHS from\"constants/apiPaths\";import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import Button from\"@material-ui/core/Button\";export default function Orders(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){axios.get(\"\".concat(API_PATHS.order,\"/order\")).then(function(res){return setOrders(res.data);});},[]);var onDelete=function onDelete(id){axios.delete(\"\".concat(API_PATHS.order,\"/order/\").concat(id)).then(function(){axios.get(\"\".concat(API_PATHS.order,\"/order\")).then(function(res){return setOrders(res.data);});});};return/*#__PURE__*/React.createElement(TableContainer,{component:Paper},/*#__PURE__*/React.createElement(Table,{\"aria-label\":\"simple table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"From\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Items count\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Address\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Status\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Action\"))),/*#__PURE__*/React.createElement(TableBody,null,orders.map(function(order){var _order$address,_order$address2,_order$address3;return/*#__PURE__*/React.createElement(TableRow,{key:order.id},/*#__PURE__*/React.createElement(TableCell,{component:\"th\",scope:\"row\"},(_order$address=order.address)===null||_order$address===void 0?void 0:_order$address.firstName,\" \",(_order$address2=order.address)===null||_order$address2===void 0?void 0:_order$address2.lastName),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},order.items.length),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},(_order$address3=order.address)===null||_order$address3===void 0?void 0:_order$address3.address),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},order.statusHistory[order.statusHistory.length-1].status.toUpperCase()),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},/*#__PURE__*/React.createElement(Button,{size:\"small\",color:\"primary\",component:Link,to:\"/admin/order/\".concat(order.id)},\"Manage\"),/*#__PURE__*/React.createElement(Button,{size:\"small\",color:\"secondary\",onClick:function onClick(){return onDelete(order.id);}},\"Delete\")));}))));}","map":{"version":3,"sources":["/home/iryna/Desktop/nodejs-aws-fe/src/components/pages/PageOrders/components/Orders.tsx"],"names":["React","useEffect","useState","axios","Link","API_PATHS","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","Orders","orders","setOrders","get","order","then","res","data","onDelete","id","delete","map","address","firstName","lastName","items","length","statusHistory","status","toUpperCase"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport {Link} from \"react-router-dom\";\nimport API_PATHS from \"constants/apiPaths\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Button from \"@material-ui/core/Button\";\n\nexport default function Orders() {\n  const [orders, setOrders] = useState<any>([]);\n\n  useEffect(() => {\n    axios.get(`${API_PATHS.order}/order`)\n      .then(res => setOrders(res.data));\n  }, []);\n\n  const onDelete = (id: string) => {\n    axios.delete(`${API_PATHS.order}/order/${id}`)\n      .then(() => {\n        axios.get(`${API_PATHS.order}/order`)\n          .then(res => setOrders(res.data));\n        }\n      );\n  };\n\n\n  return (\n    <TableContainer component={Paper}>\n      <Table aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>From</TableCell>\n            <TableCell align=\"right\">Items count</TableCell>\n            <TableCell align=\"right\">Address</TableCell>\n            <TableCell align=\"right\">Status</TableCell>\n            <TableCell align=\"right\">Action</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {orders.map((order: any) => (\n            <TableRow key={order.id}>\n              <TableCell component=\"th\" scope=\"row\">\n                {order.address?.firstName} {order.address?.lastName}\n              </TableCell>\n              <TableCell align=\"right\">{order.items.length}</TableCell>\n              <TableCell align=\"right\">{order.address?.address}</TableCell>\n              <TableCell align=\"right\">{order.statusHistory[order.statusHistory.length-1].status.toUpperCase()}</TableCell>\n              <TableCell align=\"right\">\n                <Button size=\"small\" color=\"primary\" component={Link} to={`/admin/order/${order.id}`}>\n                  Manage\n                </Button>\n                <Button size=\"small\" color=\"secondary\" onClick={() => onDelete(order.id)}>\n                  Delete\n                </Button>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}"]},"metadata":{},"sourceType":"module"}