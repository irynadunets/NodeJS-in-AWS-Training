{"ast":null,"code":"import _slicedToArray from\"/home/iryna/Desktop/NodeJS-in-AWS-Training/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{Link}from\"react-router-dom\";import API_PATHS from\"constants/apiPaths\";import Table from'@material-ui/core/Table';import TableBody from'@material-ui/core/TableBody';import TableCell from'@material-ui/core/TableCell';import TableContainer from'@material-ui/core/TableContainer';import TableHead from'@material-ui/core/TableHead';import TableRow from'@material-ui/core/TableRow';import Paper from'@material-ui/core/Paper';import Button from\"@material-ui/core/Button\";import{formatAsPrice}from\"utils/utils\";export default function ProductsTable(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];useEffect(function(){axios.get(\"\".concat(API_PATHS.bff,\"/product\")).then(function(res){return setProducts(res.data);});},[]);var onDelete=function onDelete(id){axios.delete(\"\".concat(API_PATHS.bff,\"/product/\").concat(id)).then(function(){axios.get(\"\".concat(API_PATHS.bff,\"/product\")).then(function(res){return setProducts(res.data);});});};return/*#__PURE__*/React.createElement(TableContainer,{component:Paper},/*#__PURE__*/React.createElement(Table,{\"aria-label\":\"simple table\"},/*#__PURE__*/React.createElement(TableHead,null,/*#__PURE__*/React.createElement(TableRow,null,/*#__PURE__*/React.createElement(TableCell,null,\"Title\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Description\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Price\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Count\"),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},\"Action\"))),/*#__PURE__*/React.createElement(TableBody,null,products.map(function(product){return/*#__PURE__*/React.createElement(TableRow,{key:product.id},/*#__PURE__*/React.createElement(TableCell,{component:\"th\",scope:\"row\"},product.title),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},product.description),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},formatAsPrice(product.price)),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},product.count),/*#__PURE__*/React.createElement(TableCell,{align:\"right\"},/*#__PURE__*/React.createElement(Button,{size:\"small\",color:\"primary\",component:Link,to:\"/admin/product-form/\".concat(product.id)},\"Manage\"),/*#__PURE__*/React.createElement(Button,{size:\"small\",color:\"secondary\",onClick:function onClick(){return onDelete(product.id);}},\"Delete\")));}))));}","map":{"version":3,"sources":["/home/iryna/Desktop/NodeJS-in-AWS-Training/src/components/pages/admin/PageProductImport/components/ProductsTable.tsx"],"names":["React","useEffect","useState","axios","Link","API_PATHS","Table","TableBody","TableCell","TableContainer","TableHead","TableRow","Paper","Button","formatAsPrice","ProductsTable","products","setProducts","get","bff","then","res","data","onDelete","id","delete","map","product","title","description","price","count"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\nimport {Link} from \"react-router-dom\";\nimport API_PATHS from \"constants/apiPaths\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport Button from \"@material-ui/core/Button\";\nimport {formatAsPrice} from \"utils/utils\";\n\nexport default function ProductsTable() {\n  const [products, setProducts] = useState<any>([]);\n\n  useEffect(() => {\n    axios.get(`${API_PATHS.bff}/product`)\n      .then(res => setProducts(res.data));\n  }, []);\n\n  const onDelete = (id: string) => {\n    axios.delete(`${API_PATHS.bff}/product/${id}`)\n      .then(() => {\n        axios.get(`${API_PATHS.bff}/product`)\n          .then(res => setProducts(res.data));\n        }\n      );\n  };\n\n\n  return (\n    <TableContainer component={Paper}>\n      <Table aria-label=\"simple table\">\n        <TableHead>\n          <TableRow>\n            <TableCell>Title</TableCell>\n            <TableCell align=\"right\">Description</TableCell>\n            <TableCell align=\"right\">Price</TableCell>\n            <TableCell align=\"right\">Count</TableCell>\n            <TableCell align=\"right\">Action</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {products.map((product: any) => (\n            <TableRow key={product.id}>\n              <TableCell component=\"th\" scope=\"row\">\n                {product.title}\n              </TableCell>\n              <TableCell align=\"right\">{product.description}</TableCell>\n              <TableCell align=\"right\">{formatAsPrice(product.price)}</TableCell>\n              <TableCell align=\"right\">{product.count}</TableCell>\n              <TableCell align=\"right\">\n                <Button size=\"small\" color=\"primary\" component={Link} to={`/admin/product-form/${product.id}`}>\n                  Manage\n                </Button>\n                <Button size=\"small\" color=\"secondary\" onClick={() => onDelete(product.id)}>\n                  Delete\n                </Button>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}"]},"metadata":{},"sourceType":"module"}